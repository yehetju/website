<!DOCTYPE html>
<html>
  <head>
    <title>个人网站</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/index.css">
    <script src="./js/jquery-2.1.1.min.js"></script>
    <script src="./js/http.js"></script>
    <script src="./js/vue.js"></script>
  </head>
  <body style="font-size: 14rem;">
    <div class="region episode">
      <div class="region-head">每日诗词</div>
      <div id="sentence">正在加载今日诗词....</div>
      <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
      <script type="text/javascript">
        var today = (new Date().toLocaleDateString());
        
        
        if(!localStorage[today]){
          jinrishici.load(function(result) {
            // 自己的处理逻辑
            var art = result.data.origin;
            $('#sentence').html('')
            $('#sentence').append('<div class="title">'+art.title+'</div>');
            $('#sentence').append('<div class="author">'+art.dynasty + '·' + art.author+'</div>');
            $('#sentence').append('<div class="content"></div>');
            for(var i in art.content){
              $('#sentence .content').append(art.content[i]+'<br>');
            }
            localStorage[today] = JSON.stringify(art);
          });
        }else{
          var art = JSON.parse(localStorage[today]);
          $('#sentence').html('')
          $('#sentence').append('<div class="title">'+art.title+'</div>');
          $('#sentence').append('<div class="author">'+art.dynasty + '·' + art.author+'</div>');
          $('#sentence').append('<div class="content"></div>');
          for(var i in art.content){
            $('#sentence .content').append('<p>' + art.content[i]+'</p>');
          }
        }
        
      </script>
    </div>
    <div class="region">
      <div class="region-head">每日英语</div>
      <div id="english" class="region-content">正在加载....</div>
      <script>
        var today = new Date().format('yyyy-MM-dd')
        $.ajax({
          url: 'https://dict.youdao.com/infoline?mode=publish&date='+today+'&update=auto&apiversion=5.0',
          success: function(res){
            var data = res[today][1];
            $('#english').html('')
            $('#english').append('<p>' + data.title + '</p>');
            $('#english').append('<p>' + data.summary + '</p>');
          }
        })
      </script>
    </div>
  </body>
</html>